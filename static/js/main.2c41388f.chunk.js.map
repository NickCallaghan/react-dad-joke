{"version":3,"sources":["laugh.svg","Vote.js","Joke.js","Spinner.js","JokeList.js","App.js","index.js"],"names":["module","exports","Vote","getColor","bColor","props","votes","borderColor","handleVote","voteAdjustment","voteOnJoke","jokeId","className","onClick","style","this","Component","Joke","joke","id","Spinner","JokeList","src","Laugh","alt","getManyJokes","jokes","length","map","jk","key","App","getSingleJoke","a","console","log","i","axios","get","headers","Accept","resp","data","error","err","saveJokeToLocalStorage","jokeString","JSON","stringify","state","window","localStorage","setItem","event","numJokes","existingJokeIds","newJokes","indexOf","push","setState","getItem","parse","numJokesToGet","sort","b","defaultProps","ReactDOM","render","document","getElementById"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,mC,yUCGtBC,G,iNACnBC,SAAW,WACT,IAAIC,EAAS,UAOb,OANI,EAAKC,MAAMC,MAAQ,IACrBF,EAAS,WAEP,EAAKC,MAAMC,MAAQ,IACrBF,EAAS,WAEJ,CAAEG,YAAaH,I,EAGxBI,WAAa,SAAAC,GACX,EAAKJ,MAAMK,WAAW,EAAKL,MAAMM,OAAQF,I,qHAKjC,IAAD,OACP,OACE,yBAAKG,UAAU,QACb,yBAAKA,UAAU,YAAYC,QAAS,kBAAM,EAAKL,YAAY,KACzD,uBAAGI,UAAU,uBAEf,yBAAKA,UAAU,aAAaE,MAAOC,KAAKZ,YACrCY,KAAKV,MAAMC,OAEd,yBAAKM,UAAU,UAAUC,QAAS,kBAAM,EAAKL,WAAW,KACtD,uBAAGI,UAAU,0B,GA5BWI,cCCbC,G,uLAEjB,OACE,yBAAKL,UAAU,QACb,kBAAC,EAAD,CACED,OAAQI,KAAKV,MAAMa,KAAKC,GACxBT,WAAYK,KAAKV,MAAMK,WACvBJ,MAAOS,KAAKV,MAAMa,KAAKZ,QAEzB,yBAAKM,UAAU,aAAaG,KAAKV,MAAMa,KAAKA,W,GATlBF,c,iBCDbI,G,6LAEjB,OACE,yBAAKR,UAAU,mBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,yDAEjB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,2DAEjB,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,2DAGnB,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,yDAEjB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,2DAEjB,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,2DAGnB,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,yDAEjB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,2DAEjB,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,2DAGnB,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,yDAEjB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,2DAEjB,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,iE,GA9CQI,cCGhBK,E,iLACT,IAAD,OACP,OACE,yBAAKT,UAAU,YACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,kBACZ,oCACA,qCAFF,UAIA,yBAAKU,IAAKC,IAAOC,IAAI,kBACrB,4BACEZ,UAAU,mBACVC,QAASE,KAAKV,MAAMoB,cAFtB,mBAOF,yBAAKb,UAAU,kBACgB,IAA5BG,KAAKV,MAAMqB,MAAMC,OAChBZ,KAAKV,MAAMqB,MAAME,KAAI,SAAAC,GAAE,OACrB,kBAAC,EAAD,CAAMC,IAAKD,EAAGV,GAAID,KAAMW,EAAInB,WAAY,EAAKL,MAAMK,gBAGrD,kBAAC,EAAD,Y,GAvB0BM,aCDjBe,G,kBAKnB,WAAY1B,GAAQ,IAAD,8BACjB,4CAAMA,KAYR2B,cAbmB,sBAaH,gCAAAC,EAAA,sDACdC,QAAQC,IAAI,iBADE,SAGHC,EAAI,EAHD,YAGIA,EAAI,IAHR,uBAIE,8BAJF,SAKSC,IAAMC,IADb,8BACsB,CAChCC,QAAS,CACPC,OAAQ,sBAPF,cAKJC,EALI,OAUJvB,EAAOuB,EAAKC,KAVR,kBAWH,CAAEvB,GAAID,EAAKC,GAAIb,MAAO,EAAGY,KAAMA,EAAKA,OAXjC,QAGYkB,IAHZ,gFAcZF,QAAQS,MAAR,MAdY,kBAeL,CAAEC,IAAK,uBAfF,0DAbG,EAgCnBC,uBAAyB,WACvBX,QAAQC,IAAI,0BACZ,IAAMW,EAAaC,KAAKC,UAAU,EAAKC,MAAMvB,OACxBwB,OAAOC,aACfC,QAAQ,QAASN,IApCb,EAwCnBrB,aAxCmB,uCAwCJ,WAAO4B,GAAP,iCAAApB,EAAA,sDAAcqB,EAAd,+BAAyB,GAChCC,EAAkB,EAAKN,MAAMvB,MAAME,KAAI,SAAAC,GAAE,OAAIA,EAAGV,MAChDqC,EAAW,GAFJ,qBAKJA,EAAS7B,OAAS2B,GALd,iCAOU,EAAKtB,gBAPf,OAOHd,EAPG,QASiC,IAAtCqC,EAAgBE,QAAQvC,EAAKC,MAE/BqC,EAASE,KAAKxC,GAEdqC,EAAgBG,KAAKxC,EAAKC,KAbnB,yEAiBXe,QAAQS,MAAR,MAjBW,yBAoBP,EAAKgB,SAAS,CAClBjC,MAAM,GAAD,mBAAM,EAAKuB,MAAMvB,OAAU8B,KArBrB,QAuBb,EAAKX,yBAvBQ,0DAxCI,wDAmEnBnC,WAAa,SAACC,EAAQF,GACpB,IAAMiB,EAAQ,EAAKuB,MAAMvB,MAAME,KAAI,SAAAC,GACjC,OAAIA,EAAGV,KAAOR,GACZkB,EAAGvB,OAASG,EACLoB,GAEFA,KAET,EAAK8B,SAAS,CAAEjC,UAChB,EAAKmB,0BAzEDK,OAAOC,aAAaS,QAAQ,SAC9B,EAAKX,MAAQ,CACXvB,MAAOqB,KAAKc,MAAMX,OAAOC,aAAaS,QAAQ,WAGhD,EAAKX,MAAQ,CAAEvB,MAAO,IARP,E,2LAiFe,IAA5BX,KAAKkC,MAAMvB,MAAMC,QACnBZ,KAAKU,aAAa,KAAMV,KAAKV,MAAMyD,e,qIAKrC,IAAIpC,EAAQX,KAAKkC,MAAMvB,MAAMqC,MAAK,SAAC9B,EAAG+B,GAAJ,OAAUA,EAAE1D,MAAQ2B,EAAE3B,SACxD,OACE,yBAAKM,UAAU,OACb,kBAAC,EAAD,CACEc,MAAOA,EACPhB,WAAYK,KAAKL,WACjBe,aAAcV,KAAKU,oB,GAlGIT,cAAZe,EACZkC,aAAe,CACpBH,cAAe,ICFnBI,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.2c41388f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/laugh.6fd227e4.svg\";","import React, { Component } from \"react\";\nimport \"./Vote.scss\";\n\nexport default class Vote extends Component {\n  getColor = () => {\n    let bColor = \"#F0D58B\";\n    if (this.props.votes > 6) {\n      bColor = \"#96FFA3\";\n    }\n    if (this.props.votes < 0) {\n      bColor = \"#F0594E\";\n    }\n    return { borderColor: bColor };\n  };\n\n  handleVote = voteAdjustment => {\n    this.props.voteOnJoke(this.props.jokeId, voteAdjustment);\n  };\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <div className=\"vote\">\n        <div className=\"vote-down\" onClick={() => this.handleVote(-1)}>\n          <i className=\"fas fa-arrow-down\"></i>\n        </div>\n        <div className=\"vote-count\" style={this.getColor()}>\n          {this.props.votes}\n        </div>\n        <div className=\"vote-up\" onClick={() => this.handleVote(1)}>\n          <i className=\"fas fa-arrow-up\"></i>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Vote from \"./Vote\";\nimport \"./Joke.scss\";\n\nexport default class Joke extends Component {\n  render() {\n    return (\n      <div className=\"Joke\">\n        <Vote\n          jokeId={this.props.joke.id}\n          voteOnJoke={this.props.voteOnJoke}\n          votes={this.props.joke.votes}\n        />\n        <div className=\"Joke-text\">{this.props.joke.joke}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./Spinner.scss\";\n\nexport default class Spinner extends Component {\n  render() {\n    return (\n      <div className=\"Spinner-wrapper\">\n        <div className=\"Spinner\">\n          <div className=\"Spinner-line Spinner-line--1\">\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--left\"></div>\n            </div>\n            <div className=\"Spinner-line-ticker\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--center\"></div>\n            </div>\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--right\"></div>\n            </div>\n          </div>\n          <div className=\"Spinner-line Spinner-line--2\">\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--left\"></div>\n            </div>\n            <div className=\"Spinner-line-ticker\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--center\"></div>\n            </div>\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--right\"></div>\n            </div>\n          </div>\n          <div className=\"Spinner-line Spinner-line--3\">\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--left\"></div>\n            </div>\n            <div className=\"Spinner-line-ticker\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--center\"></div>\n            </div>\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--right\"></div>\n            </div>\n          </div>\n          <div className=\"Spinner-line Spinner-line--4\">\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--left\"></div>\n            </div>\n            <div className=\"Spinner-line-ticker\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--center\"></div>\n            </div>\n            <div className=\"Spinner-line-cog\">\n              <div className=\"Spinner-line-cog-inner Spinner-line-cog-inner--right\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Joke from \"./Joke\";\nimport Laugh from \"./laugh.svg\";\nimport \"./JokeList.scss\";\nimport Spinner from \"./Spinner\";\n\nexport default class JokeList extends Component {\n  render() {\n    return (\n      <div className=\"Jokelist\">\n        <div className=\"Jokelist-sidebar\">\n          <h2 className=\"Jokelist-title\">\n            <div>Get</div>\n            <span>Dad</span> Jokes\n          </h2>\n          <img src={Laugh} alt=\"Laughing Face\" />\n          <button\n            className=\"Jokelist-getmore\"\n            onClick={this.props.getManyJokes}\n          >\n            Get More Jokes\n          </button>\n        </div>\n        <div className=\"Jokelist-jokes\">\n          {this.props.jokes.length !== 0 ? (\n            this.props.jokes.map(jk => (\n              <Joke key={jk.id} joke={jk} voteOnJoke={this.props.voteOnJoke} />\n            ))\n          ) : (\n            <Spinner />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport JokeList from \"./JokeList\";\nimport \"./App.scss\";\n\nexport default class App extends Component {\n  static defaultProps = {\n    numJokesToGet: 15\n  };\n\n  constructor(props) {\n    super(props);\n    //load jokes from localstorage or intialise jokes state empty\n    if (window.localStorage.getItem(\"jokes\")) {\n      this.state = {\n        jokes: JSON.parse(window.localStorage.getItem(\"jokes\"))\n      };\n    } else {\n      this.state = { jokes: [] };\n    }\n  }\n\n  // Fetch a single joke\n  getSingleJoke = async () => {\n    console.log(\"Fetching Joke\");\n    try {\n      for (let i = 0; i < 10; i++) {\n        const url = \"https://icanhazdadjoke.com/\";\n        const resp = await axios.get(url, {\n          headers: {\n            Accept: \"application/json\"\n          }\n        });\n        const joke = resp.data;\n        return { id: joke.id, votes: 0, joke: joke.joke };\n      }\n    } catch (err) {\n      console.error(err);\n      return { err: \"There was an error\" };\n    }\n  };\n\n  saveJokeToLocalStorage = () => {\n    console.log(\"Saving to LocalStorage\");\n    const jokeString = JSON.stringify(this.state.jokes);\n    const localStorage = window.localStorage;\n    localStorage.setItem(\"jokes\", jokeString);\n  };\n\n  // Get more jokes and add to state\n  getManyJokes = async (event, numJokes = 10) => {\n    const existingJokeIds = this.state.jokes.map(jk => jk.id);\n    const newJokes = [];\n    try {\n      // While Jokes is less than num to fetch\n      while (newJokes.length < numJokes) {\n        // fetch a joke\n        const joke = await this.getSingleJoke();\n        // Check if joke is in existing jokes\n        if (existingJokeIds.indexOf(joke.id) === -1) {\n          //push jokes onto next jokes array\n          newJokes.push(joke);\n          // push new joke id on to existing joke id list\n          existingJokeIds.push(joke.id);\n        }\n      }\n    } catch (err) {\n      console.error(err);\n    }\n    //update new jokes into state\n    await this.setState({\n      jokes: [...this.state.jokes, ...newJokes]\n    });\n    this.saveJokeToLocalStorage();\n  };\n\n  // Vote a joke up or down\n  voteOnJoke = (jokeId, voteAdjustment) => {\n    const jokes = this.state.jokes.map(jk => {\n      if (jk.id === jokeId) {\n        jk.votes += voteAdjustment;\n        return jk;\n      }\n      return jk;\n    });\n    this.setState({ jokes });\n    this.saveJokeToLocalStorage();\n  };\n\n  async componentDidMount() {\n    // Only fetch jokes if there are none in localstorage\n    if (this.state.jokes.length === 0) {\n      this.getManyJokes(null, this.props.numJokesToGet);\n    }\n  }\n\n  render() {\n    let jokes = this.state.jokes.sort((a, b) => b.votes - a.votes);\n    return (\n      <div className=\"App\">\n        <JokeList\n          jokes={jokes}\n          voteOnJoke={this.voteOnJoke}\n          getManyJokes={this.getManyJokes}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}